{"version":3,"sources":["common/consts/router-paths.const.ts","common/enums/user-swipe.enum.ts","common/consts/router-history.ts","common/services/fingerprint.service.ts","common/services/storage.service.ts","common/services/user-decision-storage.service.ts","common/transport/transport.ts","common/transport/syndicate.transport.ts","common/services/choose.service.ts","common/services/intro.service.ts","components/rounded-button/assets/cross.svg","components/header/header.style.ts","components/header/header.tsx","components/rounded-button/assets/heart.svg","components/colors.ts","components/rounded-button/rounded-button.style.ts","components/rounded-button/rounded-button.tsx","components/text/text.style.ts","components/text/text.tsx","components/processing-wrapper/error-page.tsx","components/processing-wrapper/loader-page/loader/loader.style.ts","components/processing-wrapper/loader-page/loader/loader.tsx","components/processing-wrapper/loader-page/loader-page.style.ts","components/processing-wrapper/loader-page/loader-page.tsx","components/processing-wrapper/processing-wrapper.tsx","pages/choose-page/choose-page-content.tsx","pages/choose-page/choose-page.tsx","common/hooks/use-rx.hook.ts","pages/intro-page/intro-page.tsx","pages/intro-page/intro-page.style.ts","pages/main-page.tsx","pages/result-page.tsx","syndicate-page.tsx","index.tsx"],"names":["routerPaths","MAIN","USER_CHOOSE_RESULTS","UserSwipe","routerHistory","createHashHistory","fingerprintJS","load","userFingerprint","this","Promise","resolve","then","agent","get","result","visitorId","StorageService","storageKey","defaultData","storage","window","localStorage","state","oldData","getFromStorage","data","setToStorage","rawData","getItem","JSON","parse","serialized","stringify","setItem","e","Error","userDecisionStorageService","makeInstance","item","decision","getState","itemToSave","project","photo","id","push","setState","transport","instance","axios","create","url","method","params","config","request","post","headers","status","response","SyndicateTransport","ENDPOINT","items","syndicateTransport","UserDecisionService","data$","BehaviorSubject","initialData","getItems","filterAlreadyChoosedItems","next","error","catch","length","sendItems","itemsFromResponse","swipedItems","filter","itemFromResponse","every","swipedItem","userDecisionService","introService","_path","headerStyle","css","backgroundColor","width","height","boxSizing","paddingTop","Header","className","Text","color","size","align","_excluded","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCross","_ref","svgRef","title","titleId","props","viewBox","fill","xmlns","ref","d","ForwardRef","SvgHeart","Colors","roundedButtonStyle","borderRadius","display","justifyContent","alignItems","RoundedButton","onClick","type","textSizeMap","textColorMap","BLACK","WHITE","RED","textStyle","action","fontSize","cursor","textAlign","children","React","createElement","ErrorPage","animationKeyframes","keyframes","loaderStyle","position","border","opacity","animation","animationDelay","Loader","loaderPageStyle","LoaderPage","ProcessingWrapper","ChoosePageContent","ChoosePage","stream","useState","getValue","value","setValue","useEffect","subscription","subscribe","nextValue","unsubscribe","useRx","alreadyData","IntroPageSteps","introPageStyle","flexDirection","padding","contentStyle","alignSelf","explanationStyle","flexWrap","buttonsContainerStyle","isVisibleStyle","isVisible","fadeInKeyFrames","stepsQueue","LOGO_STEP","CROSS_STEP","HEART_STEP","COOKIES_STEP","IntroPage","isOnTop","onSetIntroViewed","steps","setStep","timer","nextStep","undefined","setTimeout","prevSteps","clearTimeout","includes","transform","transition","MainPage","isIntroViewed","setIntroViewed","handleSetIntroViewed","useCallback","ResultPage","SyndicatePage","history","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fa7506a3.chunk.js","sourcesContent":["export const hashedData = 'hashedData';\n\nconst reactRouterReplacing = `:${hashedData}`;\n\nexport const routerPaths = {\n  MAIN: '/',\n  USER_CHOOSE_RESULTS: '/results'\n};\n\nexport function getHashedUrl(data: string): string {\n  return routerPaths.USER_CHOOSE_RESULTS.replace(reactRouterReplacing, data);\n}\n","export enum UserSwipe {\n  REJECT = 'reject',\n  SELECT = 'select'\n}\n","import { createHashHistory } from 'history';\n\nexport const routerHistory = createHashHistory({});\n","import { Agent, GetResult, load } from '@fingerprintjs/fingerprintjs';\n\nclass FingerPrintService {\n  private fingerprintJS = load();\n  private userFingerprint: string = '';\n\n  getFingerPrint(): Promise<string> {\n    if (!this.userFingerprint) {\n      return this.fingerprintJS.then((agent: Agent) => agent.get().then((result: GetResult) => {\n        this.userFingerprint = result.visitorId;\n\n        return this.userFingerprint;\n      }));\n    }\n\n    return Promise.resolve(this.userFingerprint);\n  }\n}\n\nexport const fingerPrintService = new FingerPrintService();\n","export class StorageService<T extends unknown> {\n  private storage = window.localStorage;\n  private state: T;\n\n  constructor(private storageKey: string, defaultData: T) {\n    const oldData = this.getFromStorage();\n    this.state = oldData ? oldData : defaultData;\n  }\n\n  static makeInstance<T extends unknown>(storageKey: string, defaultData: T): StorageService<T> {\n    return new StorageService<T>(storageKey, defaultData);\n  }\n\n  getState(): T {\n    return this.state;\n  }\n\n  setState(data: T): void {\n    this.setToStorage(data);\n    this.state = data;\n  }\n\n  private getFromStorage(): T | null {\n    const rawData = this.storage.getItem(this.storageKey);\n    if (!rawData) return null;\n\n    return JSON.parse(rawData) as T;\n  }\n\n  private setToStorage(data: T): void {\n    try {\n      const serialized = JSON.stringify(data);\n      this.storage.setItem(this.storageKey, serialized);\n    } catch (e) {\n      throw new Error('The store state is not serializable');\n    }\n  }\n}\n","import { TItemModel } from 'common';\nimport { StorageService } from './storage.service';\nimport { UserSwipe } from '../enums';\n\nexport type TUserChoiseItem = {\n  project: TItemModel['project'];\n  photo: TItemModel['photo']['id'];\n  decision: UserSwipe;\n};\n\nexport type TUserChoiseData = Array<TUserChoiseItem>;\n\nclass UserDecisionStorageService {\n  private storage = StorageService.makeInstance<TUserChoiseData>('userdecision', []);\n\n  setItem(item: TItemModel, decision: UserSwipe): void {\n    const data = this.storage.getState();\n    const itemToSave = { project: item.project, photo: item.photo.id, decision };\n\n    data.push(itemToSave);\n\n    this.storage.setState(data);\n  }\n\n  getItems(): TUserChoiseData {\n    return this.storage.getState();\n  }\n}\n\nexport const userDecisionStorageService = new UserDecisionStorageService();\n","import axios, { AxiosRequestConfig, AxiosResponse } from 'axios';\n\ntype TErrorResponse = {\n  status: 'error';\n  response: string;\n};\n\ntype TSuccesResponse<T> = {\n  status: 'ok';\n  response: T;\n};\n\ntype TResponse<T> = TErrorResponse | TSuccesResponse<T>;\n\ntype TPostConfig = {\n  url: string;\n  method: string;\n  params?: object;\n  config?: AxiosRequestConfig;\n};\n\nclass Transport {\n  private instance = axios.create();\n\n  post<T>({ url, method, params = {}, config = {} }: TPostConfig): Promise<T> {\n    const request = {\n      method,\n      params\n    };\n\n    return this.instance.post(\n      url,\n      request,\n      { headers: { 'Content-Type': 'text/plain;charset=utf-8' }, ...config }\n    ).then(({ data }: AxiosResponse<TResponse<T>>) => {\n      if (data.status === 'ok') return data.response;\n\n      throw new Error(data.response);\n    });\n  }\n}\n\nexport const transport = new Transport();\n","import { TGetItemsModel } from './models';\nimport { transport } from './transport';\nimport { TUserChoiseData } from '../services';\n\nclass SyndicateTransport {\n  private static ENDPOINT: string =\n  'https://script.google.com/macros/s/AKfycbws_tdDX8nAFL2j5Q1OHnvo5TCFqXN8werBTNnnqNyfWNdTe-TYzxXX4xNZAPcYEqhV/exec';\n\n  getItems(): Promise<TGetItemsModel> {\n    return transport.post({\n      url: SyndicateTransport.ENDPOINT,\n      method: 'get_projects_for_selection'\n    });\n  }\n\n  sendItems(items: TUserChoiseData): Promise<object> {\n    return transport.post({\n      url: SyndicateTransport.ENDPOINT,\n      method: 'set_user_selection',\n      params: items\n    });\n  }\n}\n\nexport const syndicateTransport = new SyndicateTransport();\n","import { UserSwipe } from 'common';\nimport { BehaviorSubject } from 'rxjs';\nimport { TUserChoiseItem, userDecisionStorageService } from './user-decision-storage.service';\nimport { syndicateTransport, TGetItemsModel, TItemModel } from '../transport';\n\nexport type TItems = Array<TItemModel>;\n\nexport type TUserDecisionServiceData = {\n  data: TItems | void;\n  error: Error | void;\n};\n\nclass UserDecisionService {\n  private static initialData: TUserDecisionServiceData = { data: void 0, error: void 0 };\n\n  data$ = new BehaviorSubject<TUserDecisionServiceData>(UserDecisionService.initialData);\n\n  getItems(): void {\n    void syndicateTransport.getItems()\n      .then((response: TGetItemsModel) => {\n        const data = this.filterAlreadyChoosedItems(response.items);\n        this.data$.next({ data, error: void 0 });\n      })\n      .catch((error: Error) => this.data$.next({ data: void 0, error }));\n  }\n\n  setItem(item: TItemModel, decision: UserSwipe): void {\n    userDecisionStorageService.setItem(item, decision);\n  }\n\n  sendItems(): void {\n    const items = userDecisionStorageService.getItems();\n\n    if (items.length) {\n      void syndicateTransport.sendItems(items);\n    }\n  }\n\n  private filterAlreadyChoosedItems(itemsFromResponse: TItems): TItems {\n    const swipedItems = userDecisionStorageService.getItems();\n\n    if (!swipedItems.length) {\n      return itemsFromResponse;\n    }\n\n    return itemsFromResponse.filter((itemFromResponse: TItemModel) => swipedItems.every((swipedItem: TUserChoiseItem) =>\n      swipedItem.photo !== itemFromResponse.photo.id && swipedItem.project !== itemFromResponse.project\n    ));\n  }\n}\n\nexport const userDecisionService = new UserDecisionService();\n","import { StorageService } from './storage.service';\n\nexport const introService = StorageService.makeInstance('intro', false);\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCross(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 28,\n    viewBox: \"0 0 28 28\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.8891 14.0005L27.6118 4.27776L23.7227 0.388672L14 10.1114L4.27727 0.388672L0.388185 4.27776L10.1109 14.0005L0.388184 23.7232L4.27727 27.6123L14 17.8896L23.7227 27.6123L27.6118 23.7232L17.8891 14.0005Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCross);\nexport default __webpack_public_path__ + \"static/media/cross.f8950cd4.svg\";\nexport { ForwardRef as ReactComponent };","import { css } from '@emotion/css';\n\nexport const headerStyle = css({\n  backgroundColor: '#fff',\n  width: '223px',\n  height: '118px',\n  boxSizing: 'border-box',\n  paddingTop: '20px'\n});\n","import { Text } from 'components';\nimport React from 'react';\nimport { headerStyle } from './header.style';\n\nexport function Header(): JSX.Element {\n  return (\n    <div className={headerStyle}>\n      <Text color=\"black\" size=\"l\" align=\"center\">Syndicate Architects</Text>\n    </div>\n  );\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHeart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 34,\n    height: 29,\n    viewBox: \"0 0 34 29\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.8757 0.0510254C21.3913 0.0510254 18.3582 2.14966 17.0015 5.18771C15.6448 2.15267 12.6117 0.0510254 9.12728 0.0510254C4.36987 0.0510254 0.5 3.95322 0.5 8.74665C0.5 19.556 15.9765 28.4563 16.6369 28.8297C16.7505 28.8929 16.873 28.926 16.9985 28.926C17.124 28.926 17.2495 28.8929 17.3601 28.8297C18.0175 28.4563 33.5 19.556 33.5 8.74665C33.503 3.95322 29.6331 0.0510254 24.8757 0.0510254Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHeart);\nexport default __webpack_public_path__ + \"static/media/heart.61dc789a.svg\";\nexport { ForwardRef as ReactComponent };","export enum Colors {\n  BLACK = '#000',\n  WHITE = '#FFF',\n  RED = '#FF5C00'\n}\n","import { css } from '@emotion/css';\n\nexport const roundedButtonStyle = css({\n  width: '66px',\n  height: '66px',\n  backgroundColor: '#fff',\n  borderRadius: '50%',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n});\n","import React from 'react';\nimport { ReactComponent as Cross } from './assets/cross.svg';\nimport { ReactComponent as Heart } from './assets/heart.svg';\nimport { roundedButtonStyle } from './rounded-button.style';\n\ntype TRoundedButtonProps = {\n  onClick?: VoidFunction;\n  type: 'cross' | 'heart';\n};\n\nexport function RoundedButton({ onClick, type }: TRoundedButtonProps): JSX.Element {\n  return (\n    <button onClick={onClick} className={roundedButtonStyle}>\n      {type === 'cross' && <Cross />}\n      {type === 'heart' && <Heart />}\n    </button>\n  );\n}\n","import { css } from '@emotion/css';\nimport { TTextProps } from './text.props-type';\nimport { Colors } from '../colors';\n\ntype TRequiredTextProps = Required<TTextProps>;\n\nconst textSizeMap: Record<TRequiredTextProps['size'], string> = {\n  'l': '30px',\n  'm': '10px'\n};\n\nconst textColorMap: Record<TRequiredTextProps['color'], string> = {\n  'black': Colors.BLACK,\n  'white': Colors.WHITE,\n  'red': Colors.RED\n};\n\nexport const textStyle = (\n  size: TRequiredTextProps['size'],\n  color: TRequiredTextProps['color'],\n  action: boolean,\n  align: TRequiredTextProps['align']\n): string => css({\n  fontSize: textSizeMap[size],\n  color: textColorMap[color],\n  cursor: action ? 'pointer' : 'auto',\n  textAlign: align\n});\n","import React from 'react';\nimport { TTextProps } from './text.props-type';\nimport { textStyle } from './text.style';\n\nexport function Text({\n  size = 'm',\n  color = 'white',\n  type = 'p',\n  align = 'left',\n  children,\n  onClick\n}: TTextProps): JSX.Element {\n  return React.createElement(type,\n    {\n      className: textStyle(size, color, !!onClick, align),\n      onClick\n    },\n    children\n  );\n}\n","import { Text } from 'components';\nimport React from 'react';\n\nexport function ErrorPage(): JSX.Element {\n  return <Text color=\"red\" size=\"l\">Что-то пошло не так...</Text>;\n}\n","import { css, keyframes } from '@emotion/css';\n\nconst animationKeyframes = keyframes`\n  0% {\n    top: 36px;\n    left: 36px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: 0px;\n    left: 0px;\n    width: 72px;\n    height: 72px;\n    opacity: 0;\n  }\n`;\n\nexport const loaderStyle = css({\n  display: 'inline-block',\n  position: 'relative',\n  width: '80px',\n  height: '80px',\n  ['div']: {\n    position: 'absolute',\n    border: '4px solid #fff',\n    opacity: 1,\n    borderRadius: '50%',\n    animation: `${animationKeyframes} 1s cubic-bezier(0, 0.2, 0.8, 1) infinite`,\n    [':nth-child(2)']: {\n      animationDelay: '-0.5s'\n    }\n  }\n});\n","import React from 'react';\nimport { loaderStyle } from './loader.style';\n\nexport function Loader(): JSX.Element {\n  return (\n    <div className={loaderStyle}>\n      <div />\n      <div />\n    </div>\n  );\n}\n","import { css } from '@emotion/css';\n\nexport const loaderPageStyle = css({\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n});\n","import React from 'react';\nimport { Loader } from './loader';\nimport { loaderPageStyle } from './loader-page.style';\n\nexport function LoaderPage(): JSX.Element {\n  return (\n    <div className={loaderPageStyle}>\n      <Loader />\n    </div>\n  );\n}\n","import React from 'react';\nimport { ErrorPage } from './error-page';\nimport { LoaderPage } from './loader-page';\n\ntype TProcessingWrapperProps<T> = {\n  data: T | void;\n  error: Error | void;\n  children: (value: T) => JSX.Element;\n};\n\nexport function ProcessingWrapper<T>(props: TProcessingWrapperProps<T>): JSX.Element {\n  if (!props.data && !props.error) return <LoaderPage />;\n  if (!props.data && props.error) return <ErrorPage />;\n\n  return props.children(props.data as T);\n}\n","import { TItems } from 'common';\nimport React from 'react';\n\ntype TChoosePageContentProps = {\n  data: TItems;\n};\n\nexport function ChoosePageContent({ data }: TChoosePageContentProps): JSX.Element {\n  return (\n    <div>\n\n    </div>\n  );\n}\n","import { useRx, TItems, userDecisionService } from 'common';\nimport { ProcessingWrapper } from 'components';\nimport React from 'react';\nimport { ChoosePageContent } from './choose-page-content';\n\nexport function ChoosePage(): JSX.Element {\n  const { error, data } = useRx(userDecisionService.data$);\n\n  React.useEffect(() => userDecisionService.getItems(), []);\n\n  return (\n    <ProcessingWrapper error={error} data={data}>\n      {(alreadyData: TItems) => <ChoosePageContent data={alreadyData} />}\n    </ProcessingWrapper>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { BehaviorSubject } from 'rxjs';\n\nexport function useRx<T>(stream: BehaviorSubject<T>): T {\n  const [value, setValue] = useState<T>((): T => stream.getValue());\n\n  useEffect(() => {\n    const subscription = stream.subscribe((nextValue: T) => setValue(nextValue));\n\n    return () => subscription.unsubscribe();\n  }, [stream]);\n\n  return value;\n}\n","import { Header, RoundedButton, Text } from 'components';\nimport React from 'react';\nimport {\n  buttonsContainerStyle,\n  contentStyle,\n  explanationStyle,\n  headerWrapperStyle,\n  introPageStyle,\n  isVisibleStyle\n} from './intro-page.style';\n\nenum IntroPageSteps {\n  LOGO_STEP,\n  CROSS_STEP,\n  HEART_STEP,\n  COOKIES_STEP\n}\n\nconst stepsQueue = [\n  IntroPageSteps.LOGO_STEP,\n  IntroPageSteps.CROSS_STEP,\n  IntroPageSteps.HEART_STEP,\n  IntroPageSteps.COOKIES_STEP\n];\n\nconst switchStepTimeout = 1000;\n\ntype TIntroPageProps = {\n  onSetIntroViewed: VoidFunction;\n};\n\nexport function IntroPage({ onSetIntroViewed }: TIntroPageProps): JSX.Element {\n  const [steps, setStep] = React.useState<Array<IntroPageSteps>>([]);\n\n  React.useEffect(() => {\n    let timer: number | undefined;\n    const nextStep = stepsQueue[steps.length];\n\n    if (nextStep !== undefined) {\n      timer = window.setTimeout(\n        () => setStep((prevSteps: Array<IntroPageSteps>) => ([...prevSteps, nextStep])),\n        switchStepTimeout\n      );\n    } else {\n      timer && window.clearTimeout(timer);\n    }\n\n    return () => {\n      timer && window.clearTimeout(timer);\n    };\n  }, [steps]);\n\n  return (\n    <div className={introPageStyle}>\n      <div className={headerWrapperStyle(steps.includes(IntroPageSteps.LOGO_STEP))}><Header /></div>\n      <div className={contentStyle}>\n        <div className={explanationStyle}>\n          <div className={isVisibleStyle(steps.includes(IntroPageSteps.CROSS_STEP))}>\n            <Text size=\"l\" type=\"span\">cross = like</Text>\n            {<span className={isVisibleStyle(steps.includes(IntroPageSteps.HEART_STEP))}>\n              <Text size=\"l\" type=\"span\">,&nbsp;</Text>\n            </span>}\n          </div>\n          <div className={isVisibleStyle(steps.includes(IntroPageSteps.HEART_STEP))}>\n            <Text size=\"l\" type=\"span\">heart = dislike</Text>\n          </div>\n        </div>\n        <div className={isVisibleStyle(steps.includes(IntroPageSteps.COOKIES_STEP))}>\n          <Text size=\"l\" color=\"red\" onClick={onSetIntroViewed}>\n            accept cookies to proceed\n          </Text>\n        </div>\n      </div>\n      <div className={buttonsContainerStyle}>\n        <div className={isVisibleStyle(steps.includes(IntroPageSteps.CROSS_STEP))}>\n          <RoundedButton type=\"cross\" />\n        </div>\n        <div className={isVisibleStyle(steps.includes(IntroPageSteps.HEART_STEP))}>\n          <RoundedButton type=\"heart\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { css, keyframes } from '@emotion/css';\n\nexport const introPageStyle = css({\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  flexDirection: 'column',\n  justifyContent: 'space-between',\n  padding: '0 40px 30px',\n  boxSizing: 'border-box'\n});\n\nexport const headerWrapperStyle = (isOnTop: boolean): string => css({\n  transform: isOnTop ? 'translate3d(0, 0, 0)' : 'translate3d(0, 45vh, 0)',\n  transition: 'transform 600ms ease-out',\n  animation: `${fadeInKeyFrames} 700ms forwards`\n});\n\nexport const contentStyle = css({\n  alignSelf: 'flex-start'\n});\n\nexport const explanationStyle = css({\n  display: 'flex',\n  flexWrap: 'wrap'\n});\n\nexport const buttonsContainerStyle = css({\n  display: 'flex',\n  width: '165px',\n  justifyContent: 'space-between'\n});\n\nexport const isVisibleStyle = (isVisible: boolean): string => css({\n  animation: isVisible ? `${fadeInKeyFrames} 700ms forwards` : '',\n  opacity: 0\n});\n\nconst fadeInKeyFrames = keyframes`\n  0% { opacity: 0 },\n  100% { opacity: 1 }\n`;\n","import { introService } from 'common';\nimport React from 'react';\nimport { ChoosePage } from './choose-page';\nimport { IntroPage } from './intro-page';\n\nexport function MainPage(): JSX.Element {\n  const [isIntroViewed, setIntroViewed] = React.useState(() => introService.getState());\n\n  const handleSetIntroViewed = React.useCallback(() => {\n    introService.setState(true);\n    setIntroViewed(true);\n  }, []);\n\n  if (isIntroViewed) return <ChoosePage />;\n\n  return <IntroPage onSetIntroViewed={handleSetIntroViewed} />;\n}\n","import React from 'react';\n\nexport function ResultPage(): JSX.Element {\n  return <div>Лол кек чебукр?</div>;\n}\n","import { routerHistory, routerPaths } from 'common';\nimport { MainPage, ResultPage } from 'pages';\nimport React from 'react';\nimport { Router, Route, Switch } from 'react-router';\n\n\nexport function SyndicatePage(): JSX.Element {\n  return (\n    <Router history={routerHistory}>\n      <Switch>\n        <Route path={routerPaths.MAIN} exact component={MainPage} />\n        <Route path={routerPaths.USER_CHOOSE_RESULTS} exact component={ResultPage} />\n      </Switch>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SyndicatePage } from './syndicate-page';\n\nReactDOM.render(\n  <React.StrictMode>\n    <SyndicatePage />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}