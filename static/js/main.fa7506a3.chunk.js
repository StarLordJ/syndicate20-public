(this.webpackJsonpsyndicate20=this.webpackJsonpsyndicate20||[]).push([[0],{66:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),a=n(30),c=n.n(a),s=(":".concat("hashedData"),{MAIN:"/",USER_CHOOSE_RESULTS:"/results"});var o,l=n(8),u=Object(l.a)({});!function(t){t.REJECT="reject",t.SELECT="select"}(o||(o={}));var d=n(5),f=n(6),j=n(36),h=(new(function(){function t(){Object(d.a)(this,t),this.fingerprintJS=Object(j.a)(),this.userFingerprint=""}return Object(f.a)(t,[{key:"getFingerPrint",value:function(){var t=this;return this.userFingerprint?Promise.resolve(this.userFingerprint):this.fingerprintJS.then((function(e){return e.get().then((function(e){return t.userFingerprint=e.visitorId,t.userFingerprint}))}))}}]),t}()),n(68)),b=function(){function t(e,n){Object(d.a)(this,t),this.storageKey=e,this.storage=window.localStorage,this.state=void 0;var r=this.getFromStorage();this.state=r||n}return Object(f.a)(t,[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){this.setToStorage(t),this.state=t}},{key:"getFromStorage",value:function(){var t=this.storage.getItem(this.storageKey);return t?JSON.parse(t):null}},{key:"setToStorage",value:function(t){try{var e=JSON.stringify(t);this.storage.setItem(this.storageKey,e)}catch(n){throw new Error("The store state is not serializable")}}}],[{key:"makeInstance",value:function(e,n){return new t(e,n)}}]),t}(),O=new(function(){function t(){Object(d.a)(this,t),this.storage=b.makeInstance("userdecision",[])}return Object(f.a)(t,[{key:"setItem",value:function(t,e){var n=this.storage.getState(),r={project:t.project,photo:t.photo.id,decision:e};n.push(r),this.storage.setState(n)}},{key:"getItems",value:function(){return this.storage.getState()}}]),t}()),p=n(31),v=n(32),x=n.n(v),g=new(function(){function t(){Object(d.a)(this,t),this.instance=x.a.create()}return Object(f.a)(t,[{key:"post",value:function(t){var e=t.url,n=t.method,r=t.params,i=void 0===r?{}:r,a=t.config,c=void 0===a?{}:a,s={method:n,params:i};return this.instance.post(e,s,Object(p.a)({headers:{"Content-Type":"text/plain;charset=utf-8"}},c)).then((function(t){var e=t.data;if("ok"===e.status)return e.response;throw new Error(e.response)}))}}]),t}()),m=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"getItems",value:function(){return g.post({url:t.ENDPOINT,method:"get_projects_for_selection"})}},{key:"sendItems",value:function(e){return g.post({url:t.ENDPOINT,method:"set_user_selection",params:e})}}]),t}();m.ENDPOINT="https://script.google.com/macros/s/AKfycbws_tdDX8nAFL2j5Q1OHnvo5TCFqXN8werBTNnnqNyfWNdTe-TYzxXX4xNZAPcYEqhV/exec";var y=new m,S=function(){function t(){Object(d.a)(this,t),this.data$=new h.a(t.initialData)}return Object(f.a)(t,[{key:"getItems",value:function(){var t=this;y.getItems().then((function(e){var n=t.filterAlreadyChoosedItems(e.items);t.data$.next({data:n,error:void 0})})).catch((function(e){return t.data$.next({data:void 0,error:e})}))}},{key:"setItem",value:function(t,e){O.setItem(t,e)}},{key:"sendItems",value:function(){var t=O.getItems();t.length&&y.sendItems(t)}},{key:"filterAlreadyChoosedItems",value:function(t){var e=O.getItems();return e.length?t.filter((function(t){return e.every((function(e){return e.photo!==t.photo.id&&e.project!==t.project}))})):t}}]),t}();S.initialData={data:void 0,error:void 0};var E=new S,w=b.makeInstance("intro",!1),T=n(10);var I,C=n(2),k=Object(C.a)({backgroundColor:"#fff",width:"223px",height:"118px",boxSizing:"border-box",paddingTop:"20px"}),N=n(1);function P(){return Object(N.jsx)("div",{className:k,children:Object(N.jsx)($,{color:"black",size:"l",align:"center",children:"Syndicate Architects"})})}var _=["title","titleId"];function L(){return L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L.apply(this,arguments)}function R(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function A(t,e){var n=t.title,i=t.titleId,a=R(t,_);return r.createElement("svg",L({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":i},a),n?r.createElement("title",{id:i},n):null,I||(I=r.createElement("path",{d:"M17.8891 14.0005L27.6118 4.27776L23.7227 0.388672L14 10.1114L4.27727 0.388672L0.388185 4.27776L10.1109 14.0005L0.388184 23.7232L4.27727 27.6123L14 17.8896L23.7227 27.6123L27.6118 23.7232L17.8891 14.0005Z",fill:"black"})))}var F,z=r.forwardRef(A),D=(n.p,["title","titleId"]);function H(){return H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H.apply(this,arguments)}function K(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function J(t,e){var n=t.title,i=t.titleId,a=K(t,D);return r.createElement("svg",H({width:34,height:29,viewBox:"0 0 34 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":i},a),n?r.createElement("title",{id:i},n):null,F||(F=r.createElement("path",{d:"M24.8757 0.0510254C21.3913 0.0510254 18.3582 2.14966 17.0015 5.18771C15.6448 2.15267 12.6117 0.0510254 9.12728 0.0510254C4.36987 0.0510254 0.5 3.95322 0.5 8.74665C0.5 19.556 15.9765 28.4563 16.6369 28.8297C16.7505 28.8929 16.873 28.926 16.9985 28.926C17.124 28.926 17.2495 28.8929 17.3601 28.8297C18.0175 28.4563 33.5 19.556 33.5 8.74665C33.503 3.95322 29.6331 0.0510254 24.8757 0.0510254Z",fill:"black"})))}var B,M=r.forwardRef(J),G=(n.p,Object(C.a)({width:"66px",height:"66px",backgroundColor:"#fff",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}));function U(t){var e=t.onClick,n=t.type;return Object(N.jsxs)("button",{onClick:e,className:G,children:["cross"===n&&Object(N.jsx)(z,{}),"heart"===n&&Object(N.jsx)(M,{})]})}!function(t){t.BLACK="#000",t.WHITE="#FFF",t.RED="#FF5C00"}(B||(B={}));var V={l:"30px",m:"10px"},W={black:B.BLACK,white:B.WHITE,red:B.RED},X=function(t,e,n,r){return Object(C.a)({fontSize:V[t],color:W[e],cursor:n?"pointer":"auto",textAlign:r})};function $(t){var e=t.size,n=void 0===e?"m":e,r=t.color,a=void 0===r?"white":r,c=t.type,s=void 0===c?"p":c,o=t.align,l=void 0===o?"left":o,u=t.children,d=t.onClick;return i.a.createElement(s,{className:X(n,a,!!d,l),onClick:d},u)}function q(){return Object(N.jsx)($,{color:"red",size:"l",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."})}var Z,Y=n(11),Q=n(15),tt=Object(C.b)(Z||(Z=Object(Q.a)(["\n  0% {\n    top: 36px;\n    left: 36px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: 0px;\n    left: 0px;\n    width: 72px;\n    height: 72px;\n    opacity: 0;\n  }\n"]))),et=Object(C.a)(Object(Y.a)({display:"inline-block",position:"relative",width:"80px",height:"80px"},"div",Object(Y.a)({position:"absolute",border:"4px solid #fff",opacity:1,borderRadius:"50%",animation:"".concat(tt," 1s cubic-bezier(0, 0.2, 0.8, 1) infinite")},":nth-child(2)",{animationDelay:"-0.5s"})));function nt(){return Object(N.jsxs)("div",{className:et,children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{})]})}var rt=Object(C.a)({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"});function it(){return Object(N.jsx)("div",{className:rt,children:Object(N.jsx)(nt,{})})}function at(t){return t.data||t.error?!t.data&&t.error?Object(N.jsx)(q,{}):t.children(t.data):Object(N.jsx)(it,{})}function ct(t){t.data;return Object(N.jsx)("div",{})}function st(){var t=function(t){var e=Object(r.useState)((function(){return t.getValue()})),n=Object(T.a)(e,2),i=n[0],a=n[1];return Object(r.useEffect)((function(){var e=t.subscribe((function(t){return a(t)}));return function(){return e.unsubscribe()}}),[t]),i}(E.data$),e=t.error,n=t.data;return i.a.useEffect((function(){return E.getItems()}),[]),Object(N.jsx)(at,{error:e,data:n,children:function(t){return Object(N.jsx)(ct,{data:t})}})}var ot,lt,ut=n(35),dt=Object(C.a)({width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",padding:"0 40px 30px",boxSizing:"border-box"}),ft=Object(C.a)({alignSelf:"flex-start"}),jt=Object(C.a)({display:"flex",flexWrap:"wrap"}),ht=Object(C.a)({display:"flex",width:"165px",justifyContent:"space-between"}),bt=function(t){return Object(C.a)({animation:t?"".concat(Ot," 700ms forwards"):"",opacity:0})},Ot=Object(C.b)(ot||(ot=Object(Q.a)(["\n  0% { opacity: 0 },\n  100% { opacity: 1 }\n"])));!function(t){t[t.LOGO_STEP=0]="LOGO_STEP",t[t.CROSS_STEP=1]="CROSS_STEP",t[t.HEART_STEP=2]="HEART_STEP",t[t.COOKIES_STEP=3]="COOKIES_STEP"}(lt||(lt={}));var pt=[lt.LOGO_STEP,lt.CROSS_STEP,lt.HEART_STEP,lt.COOKIES_STEP];function vt(t){var e,n=t.onSetIntroViewed,r=i.a.useState([]),a=Object(T.a)(r,2),c=a[0],s=a[1];return i.a.useEffect((function(){var t,e=pt[c.length];return void 0!==e?t=window.setTimeout((function(){return s((function(t){return[].concat(Object(ut.a)(t),[e])}))}),1e3):t&&window.clearTimeout(t),function(){t&&window.clearTimeout(t)}}),[c]),Object(N.jsxs)("div",{className:dt,children:[Object(N.jsx)("div",{className:(e=c.includes(lt.LOGO_STEP),Object(C.a)({transform:e?"translate3d(0, 0, 0)":"translate3d(0, 45vh, 0)",transition:"transform 600ms ease-out",animation:"".concat(Ot," 700ms forwards")})),children:Object(N.jsx)(P,{})}),Object(N.jsxs)("div",{className:ft,children:[Object(N.jsxs)("div",{className:jt,children:[Object(N.jsxs)("div",{className:bt(c.includes(lt.CROSS_STEP)),children:[Object(N.jsx)($,{size:"l",type:"span",children:"cross = like"}),Object(N.jsx)("span",{className:bt(c.includes(lt.HEART_STEP)),children:Object(N.jsx)($,{size:"l",type:"span",children:",\xa0"})})]}),Object(N.jsx)("div",{className:bt(c.includes(lt.HEART_STEP)),children:Object(N.jsx)($,{size:"l",type:"span",children:"heart = dislike"})})]}),Object(N.jsx)("div",{className:bt(c.includes(lt.COOKIES_STEP)),children:Object(N.jsx)($,{size:"l",color:"red",onClick:n,children:"accept cookies to proceed"})})]}),Object(N.jsxs)("div",{className:ht,children:[Object(N.jsx)("div",{className:bt(c.includes(lt.CROSS_STEP)),children:Object(N.jsx)(U,{type:"cross"})}),Object(N.jsx)("div",{className:bt(c.includes(lt.HEART_STEP)),children:Object(N.jsx)(U,{type:"heart"})})]})]})}function xt(){var t=i.a.useState((function(){return w.getState()})),e=Object(T.a)(t,2),n=e[0],r=e[1],a=i.a.useCallback((function(){w.setState(!0),r(!0)}),[]);return n?Object(N.jsx)(st,{}):Object(N.jsx)(vt,{onSetIntroViewed:a})}function gt(){return Object(N.jsx)("div",{children:"\u041b\u043e\u043b \u043a\u0435\u043a \u0447\u0435\u0431\u0443\u043a\u0440?"})}var mt=n(13);function yt(){return Object(N.jsx)(mt.b,{history:u,children:Object(N.jsxs)(mt.c,{children:[Object(N.jsx)(mt.a,{path:s.MAIN,exact:!0,component:xt}),Object(N.jsx)(mt.a,{path:s.USER_CHOOSE_RESULTS,exact:!0,component:gt})]})})}c.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)(yt,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.fa7506a3.chunk.js.map